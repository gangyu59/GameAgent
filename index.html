<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>围棋</title>

  <!-- 依赖库 -->
  <script src="https://cdn.jsdelivr.net/npm/peerjs@1.4.7/dist/peerjs.min.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
  <link rel="stylesheet" href="css/style.css">
</head>
<body>
  <h2 class="center">围棋</h2>
  <br>
	
	<div id="clockBar">
	  <div class="clock-item black">
	    <div class="stone-icon black"></div>
	    <div class="timer" id="black-timer">60:00</div>
	  </div>
	  <div class="spacer"></div>
	  <div class="clock-item white">
	    <div class="timer" id="white-timer">60:00</div>
	    <div class="stone-icon white"></div>
	  </div>
	</div>
	
	<br>
  <!-- 棋盘区域 -->
  <div id="board"></div>

  <!-- 再来一局按钮 -->
  <div class="restart-container">
    <button id="restartBtn" onclick="restartGame()" style="display: none;">再来一局</button>
  </div>

  <!-- 结果展示 -->
  <div id="resultBox" class="result-box" style="display: none;"></div>

  <!-- 调试区域 -->
  <div id="debug-panel">
    <h3>调试信息</h3>
    <div id="debug-log"></div>
  </div>

  <!-- 控制台浮窗 
  <div id="mobile-console-toggle" onclick="toggleConsole()">调试台</div>
  <div id="mobile-console" style="display:none;">
    <button onclick="document.getElementById('mobile-console').style.display='none'">关闭</button>
    <div id="console-log"></div>
  </div>
	-->
	
  <!-- 结束对局按钮 -->
  <button id="endGameBtn" style="display:none;">结束对局</button>

  <!-- 弹出式对局结束选择框 -->
  <div id="endGameModal">
    <div class="modal-content">
      <p>两次连续不下子结束对局。</p>
      <button class="btn-pass" onclick="handlePass()">放弃着手</button>
      <button class="btn-resign" onclick="handleResign()">认输</button>
      <button class="btn-cancel" onclick="closeEndGameModal()">取消</button>
    </div>
  </div>
	
	  <!-- 自动配对等待视图 -->
  <div id="waitingView" class="center">
    <p style="font-size: 18px;">🎯 正在寻找对手中...</p>
    <p style="font-size: 14px;">
      （我的 Peer ID: <span id="myPeerIdDisplay">...</span>）
    </p>
  </div>

  <!-- 模块 JS 加载顺序必须一致 -->
  <script src="js/game-state.js"></script>
	<script src="js/utils.js"></script>
  <script src="js/firebase-init.js"></script>
  <script src="js/webrtc-conn.js"></script>
  <script src="js/game-logic.js"></script>
  <script src="js/ui-render.js"></script>
  <script src="js/main.js"></script>
</body>
</html>